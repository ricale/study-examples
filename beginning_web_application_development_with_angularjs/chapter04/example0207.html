<!DOCTYPE html>
<html ng-app>
<head>
  <title>one way data binding</title>
  <meta charset='utf-8'/>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css'/>
  <script src="../libs/angular/angular.js"></script>
  <script>
  function mainCtrl($scope) {
    var menuList = [
      {itemId: 1, itemName: 'sandwich', itemPrice: 2000, itemCount: 0},
      {itemId: 2, itemName: 'americano', itemPrice: 1000, itemCount: 0},
      {itemId: 3, itemName: 'cappuccino', itemPrice: 1500, itemCount: 0}
    ]

    $scope.menuList = menuList;
    $scope.totalPrice = 0;
    $scope.buy = function() {
      $scope.totalPrice = 0;
      angular.forEach($scope.menuList, function(menu, idx) {
        $scope.totalPrice = $scope.totalPrice + (menu.itemPrice * Number(menu.itemCount))
      });
    }
  }
  </script>
</head>

<body ng-controller='mainCtrl'>
  <div>
    <h1>menu</h1>
    <h2>list</h2>
    <table>
      <thead>
        <tr>
          <th>name</th>
          <th>price</th>
          <th>quantity</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat='menu in menuList'>
          <td>{{menu.itemName}}</td>
          <td>{{menu.itemPrice}}</td>
          <td><input type='text' ng-model='menu.itemCount'></td>
        </tr>
      </tbody>
    </table>
    <button ng-click='buy()'>buy</button>
    <h2>price</h2>
    <div>
      {{totalPrice}}
    </div>
  </div>

</body>
</html>
